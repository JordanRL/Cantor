<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Calculation Modes - Fermat - PHP Math Library</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
  <link href="../css/custom.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Calculation Modes";
    var mkdocs_page_input_path = "getting-started/calculation-modes.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/languages/php.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="icon icon-home"> Fermat - PHP Math Library</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Getting Started</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="installation-and-usage.html">Installation & Usage</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="mutability.html">Mutable vs. Immutable</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="using-factories.html">Using The Factories</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="direct-instantiation.html">Direct Instantiation</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="comparing.html">Comparing Values</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="calculation-modes.html">Calculation Modes</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#scale-mode">Scale Mode</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#native-mode">Native Mode</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="exceptions.html">Handling Exceptions</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Types & Values</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../types-and-values/decimals.html">Decimals</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../types-and-values/fractions.html">Fractions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../types-and-values/complex.html">Complex Numbers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../types-and-values/coordinates.html">Coordinates</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../types-and-values/matrices.html">Matrices</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../types-and-values/collections.html">Collections</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../types-and-values/expressions.html">Expressions</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Arithmetic</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../arithmetic/traits.html">Built In Traits</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../arithmetic/simple.html">Simple Numbers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../arithmetic/complex.html">Complex Numbers</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../arithmetic/matrices.html">Matrices</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Trigonometry</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../trigonometry/traits.html">Built In Traits</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../trigonometry/basic.html">Basic Trig Functions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../trigonometry/inverse.html">Inverse Trig Functions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../trigonometry/hyperbolic.html">Hyperbolic Trig Functions</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Statistics</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../statistics/included.html">Built In Distributions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../statistics/distributions.html">Using Distributions</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../statistics/static-methods.html">Using Static Methods</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Extending</span></p>
                <ul>
                    <li class="toctree-l1"><a class="" href="../extending/abstracts.md">Abstract Classes</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">REFERENCE</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="#">Interfaces</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../reference/interfaces/numbers.html">Numbers</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../reference/interfaces/groups.html">Groups</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../reference/interfaces/coordinates.html">Coordinates</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../reference/interfaces/evaluateables.html">Evaluateables</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../reference/interfaces/characteristics.html">Characteristics</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Providers</a>
    <ul>
                <li class="toctree-l2"><a class="" href="../reference/providers/arithmetic.md">Arithmetic</a>
                </li>
                <li class="toctree-l2"><a class="" href="../reference/providers/constant.md">Constant</a>
                </li>
                <li class="toctree-l2"><a class="" href="../reference/providers/polyfill.md">Polyfill</a>
                </li>
                <li class="toctree-l2"><a class="" href="../reference/providers/sequence.md">Sequence</a>
                </li>
                <li class="toctree-l2"><a class="" href="../reference/providers/series.md">Series</a>
                </li>
                <li class="toctree-l2"><a class="" href="../reference/providers/stats.md">Stats</a>
                </li>
                <li class="toctree-l2"><a class="" href="../reference/providers/trigonometry.md">Trigonometry</a>
                </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="#">Distributions</a>
    <ul>
                <li class="toctree-l2"><a class="" href="../reference/distributions/normal.md">Normal</a>
                </li>
                <li class="toctree-l2"><a class="" href="../reference/distributions/poisson.md">Poisson</a>
                </li>
                <li class="toctree-l2"><a class="" href="../reference/distributions/exponential.md">Exponential</a>
                </li>
    </ul>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Fermat - PHP Math Library</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
      
        
          <li>Getting Started &raquo;</li>
        
      
    
    <li>Calculation Modes</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/JordanRL/Fermat/edit/master/docs/getting-started/calculation-modes.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  
  <hr/>
</div>

          <div role="main">
            <div class="section">
              
                <h1 id="available-modes">Available Modes</h1>
<p>All modes which are defined exist as constants on the <code>Selectable</code> class. There are two modes currently available in Fermat.</p>
<h2 id="scale-mode">Scale Mode</h2>
<h6 id="selectablecalc_mode_precision-1">Selectable::CALC_MODE_PRECISION = 1</h6>
<p>In this mode, the best available string math implementation is used when a mathematical operation is performed. By default these are the functions provided by the BCMath library, however a future scope of this project is to provide integration with <code>ext-decimal</code>.</p>
<div class="admonition note">
<p class="admonition-title">For Certain Operations, BCMath Is Ignored</p>
<p>If the <code>ext-gmp</code> extension is present, it is used when both the input and output of an operation are guaranteed to be integers. This helps improve performance of operations which do not have a scale component. A non-exhaustive list of these situations includes:</p>
<ul>
<li>Using the <code>factorial()</code> method.</li>
<li>Using the <code>add()</code> method on two integers.</li>
<li>Using the <code>multiply()</code> method on two integers.</li>
</ul>
<p>Note that <code>ext-gmp</code> is never used for divide, as optimistic use of the extension would result in a large performance cost for non-exact division at a very small performance gain in the case of exact division.</p>
</div>
<h2 id="native-mode">Native Mode</h2>
<h6 id="selectablecalc_mode_native-2">Selectable::CALC_MODE_NATIVE = 2</h6>
<p>In this mode, the native PHP math operators are used for calculation. The result is then converted to a string and stored according to the normal behavior of the class in question.</p>
<div class="admonition note">
<p class="admonition-title">Loss Of Scale</p>
<p>The scale defined in the object is ignored when this mode is used. This will result in values which behave as math operations in PHP would natively, including issues such as overflow and underflow.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Better Performance In Low Scale Situations</p>
<p>As a trade-off for accepting more ambiguous scale in the result, using this mode will decrease the computation required for basic math operations, in some cases quite significantly. If you are absolutely certain that your math will not result in an overflow or underflow, and your application is not sensitive to loss of scale in <code>float</code> values, using this mode will reduce the cost of each mathematical operation.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Expanding Native Types</p>
<p>With the mode set to native, this library functions as simply an extension to integer and float types that enables representations of imaginary numbers, complex numbers, matrices, coordinates, and statistics. In this way, the library may be useful even if arbitrary scale is not necessary for your application.</p>
</div>
<h1 id="controlling-the-mode-of-objects">Controlling the Mode of Objects</h1>
<p>There are two main ways of controlling the mode used by your Fermat objects. The first is through the use of the default mode, and the second is with the use of the <code>setMode()</code> method.</p>
<h2 id="default-mode">Default Mode</h2>
<p>All objects that extend the <code>Number</code> abstract class set their current mode to the default calculation mode returned by <code>Numbers::getDefaultCalcMode()</code>. This check is only done during instantiation, meaning that changing the default calculation mode using <code>Numbers::setDefaultCalcMode()</code> will only affect objects instantiated after this change is made.</p>
<div class="admonition potential-bugs">
<p class="admonition-title">Interaction With Immutable Objects</p>
<p>Because immutable objects create new instances for every mathematical operation performed, changing the default calculation mode in the middle of application execution will result in all previously created immutables utilizing the original mode for their first mathematical operation, and the new mode for every subsequent operation.</p>
<p>If immutable objects are being used, the default mode should never be changed in the middle of application execution. Instead, set it to the desired value at the beginning of the application, or use the <code>setMode()</code> method after a new object is instantiated.</p>
</div>
<div class="admonition see-also">
<p class="admonition-title">See Also</p>
<p>Further information on how to use default modes is available in the <a href="using-factories.html#the-numbers-factory-class">Numbers Factory Class</a> documentation.</p>
</div>
<h2 id="set-mode">Set Mode</h2>
<h6 id="setmodeint-mode">setMode(int $mode)</h6>
<p>This method is available on all classes that extend the <code>Number</code> abstract class. It sets the mode of the object it is called on to the mode provided. </p>
<div class="admonition caution">
<p class="admonition-title">Use Only Defined Modes</p>
<p>While <code>setMode()</code> will accept any integer, you should only ever use inputs that are defined as constants on the <code>Selectable</code> class to avoid unexpected behaviors.</p>
</div>
<div class="admonition potential-bugs">
<p class="admonition-title">This Method Is Mutable For All Objects</p>
<p>Because of the nature of what this method does, it is mutable for all objects, including any implementations of immutable objects.</p>
</div>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="exceptions.html" class="btn btn-neutral float-right" title="Handling Exceptions">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="comparing.html" class="btn btn-neutral" title="Comparing Values"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/JordanRL/Fermat/" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="comparing.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="exceptions.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
